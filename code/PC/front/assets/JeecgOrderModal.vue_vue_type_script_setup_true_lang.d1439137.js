var w=Object.defineProperty;var p=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var d=(t,s,e)=>s in t?w(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,g=(t,s)=>{for(var e in s||(s={}))B.call(s,e)&&d(t,e,s[e]);if(p)for(var e of p(s))F.call(s,e)&&d(t,e,s[e]);return t};var f=(t,s,e)=>new Promise((l,c)=>{var m=o=>{try{i(e.next(o))}catch(n){c(n)}},u=o=>{try{i(e.throw(o))}catch(n){c(n)}},i=o=>o.done?l(o.value):Promise.resolve(o.value).then(m,u);i((e=e.apply(t,s)).next())});import{B as v}from"./index.1c9272fa.js";import{B as M}from"./BasicForm.e6ef05c4.js";import"./componentMap.6f8f51f6.js";import{u as k}from"./useForm.1a92e1aa.js";import"./JAddInput.ec01e271.js";import{j as y,C as R,bH as b,K as a,m as x,s as C,Q as L,w as O,v as U,x as P}from"./index.d13d32e3.js";import{k as S,l as V}from"./erplist.api.2ced1d41.js";const Q=y({__name:"JeecgOrderModal",emits:["success","register"],setup(t,{emit:s}){const e=R(!0),[l,{resetFields:c,setFieldsValue:m,validate:u}]=k({labelWidth:150,schemas:S,showActionButtonGroup:!1}),[i,{setModalProps:o,closeModal:n}]=b(r=>f(this,null,function*(){yield c(),o({confirmLoading:!1}),e.value=!!(r!=null&&r.isUpdate),a(e)&&(yield m(g({},r.record)))})),_=x(()=>a(e)?"\u7F16\u8F91":"\u65B0\u589E");function h(){return f(this,null,function*(){try{const r=yield u();o({confirmLoading:!0}),yield V(r,e.value),n(),s("success")}finally{o({confirmLoading:!1})}})}return(r,j)=>(C(),L(a(v),P(r.$attrs,{onRegister:a(i),title:a(_),onOk:h,width:700}),{default:O(()=>[U(a(M),{onRegister:a(l)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{Q as _};
