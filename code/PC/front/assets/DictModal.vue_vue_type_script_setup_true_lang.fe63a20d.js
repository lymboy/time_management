var F=Object.defineProperty,M=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var g=(o,s,e)=>s in o?F(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,p=(o,s)=>{for(var e in s||(s={}))y.call(s,e)&&g(o,e,s[e]);if(d)for(var e of d(s))R.call(s,e)&&g(o,e,s[e]);return o},B=(o,s)=>M(o,x(s));var f=(o,s,e)=>new Promise((c,u)=>{var l=r=>{try{n(e.next(r))}catch(i){u(i)}},m=r=>{try{n(e.throw(r))}catch(i){u(i)}},n=r=>r.done?c(r.value):Promise.resolve(r.value).then(l,m);n((e=e.apply(o,s)).next())});import{B as U}from"./index.1c9272fa.js";import{B as b}from"./BasicForm.e6ef05c4.js";import"./componentMap.6f8f51f6.js";import{u as k}from"./useForm.1a92e1aa.js";import"./JAddInput.ec01e271.js";import{j as C,C as v,bH as L,K as a,m as D,s as H,Q as I,w as O,v as P,x as S}from"./index.d13d32e3.js";import{f as V}from"./dict.data.5378614d.js";import{b as j}from"./dict.api.e918e089.js";const J=C({__name:"DictModal",emits:["register","success"],setup(o,{emit:s}){const e=v(!0),c=v(""),[u,{resetFields:l,setFieldsValue:m,validate:n}]=k({schemas:V,showActionButtonGroup:!1}),[r,{setModalProps:i,closeModal:w}]=L(t=>f(this,null,function*(){yield l(),i({confirmLoading:!1,minHeight:80}),e.value=!!(t!=null&&t.isUpdate),a(e)&&(c.value=t.record.id,yield m(p({},t.record)))})),_=D(()=>a(e)?"\u7F16\u8F91\u5B57\u5178":"\u65B0\u589E\u5B57\u5178");function h(){return f(this,null,function*(){try{let t=yield n();i({confirmLoading:!0}),yield j(t,e.value),w(),s("success",{isUpdate:a(e),values:B(p({},t),{id:c.value})})}finally{i({confirmLoading:!1})}})}return(t,A)=>(H(),I(a(U),S(t.$attrs,{onRegister:a(r),title:a(_),width:"500px",onOk:h}),{default:O(()=>[P(a(b),{onRegister:a(u)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{J as _};
