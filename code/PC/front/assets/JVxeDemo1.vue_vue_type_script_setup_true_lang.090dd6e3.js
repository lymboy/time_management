var y=(A,i,l)=>new Promise((f,p)=>{var E=s=>{try{v(l.next(s))}catch(_){p(_)}},g=s=>{try{v(l.throw(s))}catch(_){p(_)}},v=s=>s.done?f(s.value):Promise.resolve(s.value).then(E,g);v((l=l.apply(A,i)).next())});import{j as G,C as B,e8 as n,r as D,s as L,t as O,v as o,w as t,y as c,aW as h,z as U,K as W,ea as X,ax as Z,b1 as z,eb as d,ec as K,u as Q,cC as ee}from"./index.d13d32e3.js";const ue={style:{padding:"20px"}},te=["onClick"],le=h("a",null,"\u5220\u9664",-1),ne=G({__name:"JVxeDemo1",setup(A){const{createMessage:i}=Q(),l=B(),f=B(!1),p=B(!1),E=B([{title:"ID",key:"id",type:n.hidden},{title:"\u4E0D\u53EF\u7F16\u8F91",key:"noEdit",type:n.normal,width:180,defaultValue:"noEdit-new"},{title:"\u5355\u884C\u6587\u672C",key:"input",type:n.input,width:180,defaultValue:"",placeholder:"\u8BF7\u8F93\u5165${title}",validateRules:[{required:!0,message:"\u8BF7\u8F93\u5165${title}"},{pattern:/^[a-z|A-Z][a-z|A-Z\d_-]*$/,message:"\u5FC5\u987B\u4EE5\u5B57\u6BCD\u5F00\u5934\uFF0C\u53EF\u5305\u542B\u6570\u5B57\u3001\u4E0B\u5212\u7EBF\u3001\u6A2A\u6760"},{unique:!0,message:"${title}\u4E0D\u80FD\u91CD\u590D"},{handler({cellValue:e,row:a,column:u},r,m){e==="abc"?r(!1,"${title}\u4E0D\u80FD\u662Fabc"):r(!0)},message:"${title}\u9ED8\u8BA4\u63D0\u793A"}]},{title:"\u591A\u884C\u6587\u672C",key:"textarea",type:n.textarea,width:200},{title:"\u6570\u5B57",key:"number",type:n.inputNumber,width:80,defaultValue:32,statistics:["sum","average"]},{title:"\u4E0B\u62C9\u6846",key:"select",type:n.select,width:180,options:[{title:"String",value:"string"},{title:"Integer",value:"int"},{title:"Double",value:"double"},{title:"Boolean",value:"boolean"}],allowSearch:!0,placeholder:"\u8BF7\u9009\u62E9"},{title:"\u4E0B\u62C9\u6846_\u5B57\u5178",key:"select_dict",type:n.select,width:180,options:[],dictCode:"sex",placeholder:"\u8BF7\u9009\u62E9"},{title:"\u4E0B\u62C9\u6846_\u591A\u9009",key:"select_multiple",type:n.selectMultiple,width:205,options:[{title:"String",value:"string"},{title:"Integer",value:"int"},{title:"Double",value:"double"},{title:"Boolean",value:"boolean"}],defaultValue:["int","boolean"],placeholder:"\u591A\u9009"},{title:"\u4E0B\u62C9\u6846_\u641C\u7D22",key:"select_search",type:n.selectSearch,width:180,options:[{title:"String",value:"string"},{title:"Integer",value:"int"},{title:"Double",value:"double"},{title:"Boolean",value:"boolean"}]},{title:"\u65E5\u671F\u65F6\u95F4",key:"datetime",type:n.datetime,width:200,defaultValue:"2019-04-30 14:52:22",placeholder:"\u8BF7\u9009\u62E9"},{title:"\u65F6\u95F4",key:"time",type:n.time,width:200,defaultValue:"14:52:22",placeholder:"\u8BF7\u9009\u62E9"},{title:"\u590D\u9009\u6846",key:"checkbox",type:n.checkbox,width:100,customValue:["Y","N"],defaultChecked:!1},{title:"\u64CD\u4F5C",key:"action",type:n.slot,fixed:"right",minWidth:100,align:"center",slotName:"myAction"}]),g=B([]);function v(e,a,u=!1){u&&(f.value=!0);let r=()=>{let C=d(1e3,9999999999999);return ee(new Date(C)).format("YYYY-MM-DD HH:mm:ss")},m=(e-1)*a,b=["string","int","double","boolean"],w=Date.now(),F=[];for(let C=0;C<a;C++)F.push({id:z(),noEdit:`noEdit-${m+C+1}`,input:`text-${m+C+1}`,textarea:`textarea-${m+C+1}`,number:d(0,233),select:b[d(0,3)],select_dict:d(1,2).toString(),select_multiple:(()=>{let q=d(1,4),T=[];for(let S=0;S<q;S++)K(T,b[d(0,3)]);return T.join(",")})(),select_search:b[d(0,3)],datetime:r(),checkbox:["Y","N"][d(0,1)]});g.value=F;let x=Date.now()-w;u&&x<a&&setTimeout(()=>f.value=!1,a-x)}v(0,20,!0);function s(e){i.success("\u8BF7\u5728\u63A7\u5236\u53F0\u67E5\u770B\u8F93\u51FA"),console.log("\u67E5\u770B: ",{props:e})}function _(e){return y(this,null,function*(){var u;const a=yield(u=l.value)==null?void 0:u.removeRows(e.row);a&&a.rows.length>0&&i.success("\u5220\u9664\u6210\u529F")})}function V(){l.value.validateTable().then(e=>{e?(console.log("\u8868\u5355\u9A8C\u8BC1\u672A\u901A\u8FC7\uFF1A",{errMap:e}),i.error("\u9A8C\u8BC1\u672A\u901A\u8FC7\uFF0C\u8BF7\u5728\u63A7\u5236\u53F0\u67E5\u770B\u8BE6\u7EC6")):i.success("\u9A8C\u8BC1\u901A\u8FC7")})}function R(){const e=l.value.getTableData();console.log("\u83B7\u53D6\u503C:",{values:e}),i.success("\u83B7\u53D6\u503C\u6210\u529F\uFF0C\u8BF7\u770B\u63A7\u5236\u53F0\u8F93\u51FA")}function $(){v(1,1e3,!0)}function N(){const a=l.value.getXTable().getTableData().fullData[0];l.value.removeRows(a)}function I(){l.value.getXTable().removeCheckboxRow()}function j(){i.info("\u8BF7\u770B\u63A7\u5236\u53F0"),console.log(l.value.getSelectionData())}function Y(){l.value.clearSelection()}function J(){f.value=!f.value}function M(){p.value=!p.value}function H(e){return new Promise(a=>{let u=e.map(r=>r.id);console.log("\u5220\u9664 rowId: ",u),setTimeout(()=>a(!0),1500)})}function P(e){return y(this,null,function*(){const a=i.loading("\u5220\u9664\u4E2D\u2026",0);try{(yield H(e.deleteRows))?(yield l.value.removeSelection(),i.success("\u5220\u9664\u6210\u529F\uFF01")):i.warn("\u5220\u9664\u5931\u8D25\uFF01")}finally{a()}})}return(e,a)=>{const u=D("a-button"),r=D("a-space"),m=D("a-tooltip"),b=D("a-divider"),w=D("JVxeTable");return L(),O(Z,null,[o(r,null,{default:t(()=>[o(u,{onClick:J},{default:t(()=>[c("\u5207\u6362\u52A0\u8F7D")]),_:1}),o(u,{onClick:M},{default:t(()=>[c("\u5207\u6362\u7981\u7528")]),_:1})]),_:1}),o(w,{ref_key:"tableRef",ref:l,stripe:"",toolbar:"",rowNumber:"",rowSelection:"",rowExpand:"",resizable:"",asyncRemove:"",clickSelectRow:"",maxHeight:480,checkboxConfig:{range:!0},disabledRows:{input:["text--16","text--18"]},loading:f.value,disabled:p.value,columns:E.value,dataSource:g.value,onRemove:P},{toolbarSuffix:t(()=>[o(u,{onClick:V},{default:t(()=>[c("\u8868\u5355\u9A8C\u8BC1")]),_:1}),o(m,{placement:"top",title:"\u83B7\u53D6\u503C\uFF0C\u5FFD\u7565\u8868\u5355\u9A8C\u8BC1",autoAdjustOverflow:!0},{default:t(()=>[o(u,{onClick:R},{default:t(()=>[c("\u83B7\u53D6\u6570\u636E")]),_:1})]),_:1}),o(m,{placement:"top",title:"\u6A21\u62DF\u52A0\u8F7D1000\u6761\u6570\u636E",autoAdjustOverflow:!0},{default:t(()=>[o(u,{onClick:$},{default:t(()=>[c("\u8BBE\u7F6E\u503C")]),_:1})]),_:1}),o(u,{onClick:j},{default:t(()=>[c("\u83B7\u53D6\u9009\u4E2D\u6570\u636E")]),_:1}),o(u,{onClick:Y},{default:t(()=>[c("\u6E05\u7A7A\u9009\u4E2D")]),_:1}),o(u,{onClick:N},{default:t(()=>[c("\u5220\u9664\u7B2C\u4E00\u884C\u6570\u636E")]),_:1}),o(u,{onClick:I},{default:t(()=>[c("\u5220\u9664\u9009\u4E2D\u6570\u636E")]),_:1})]),expandContent:t(F=>[h("div",ue,[h("span",null,"Hello! My name is: "+U(F.row.input)+"!",1)])]),myAction:t(F=>[h("a",{onClick:k=>s(F)},"\u67E5\u770B",8,te),o(b,{type:"vertical"}),o(W(X),{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",onConfirm:k=>_(F)},{default:t(()=>[le]),_:2},1032,["onConfirm"])]),_:1},8,["loading","disabled","columns","dataSource"])],64)}}});export{ne as _};
