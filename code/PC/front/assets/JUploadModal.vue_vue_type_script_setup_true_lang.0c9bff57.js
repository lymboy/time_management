var m=(r,i,o)=>new Promise((s,n)=>{var d=a=>{try{t(o.next(a))}catch(e){n(e)}},c=a=>{try{t(o.throw(a))}catch(e){n(e)}},t=a=>a.done?s(a.value):Promise.resolve(a.value).then(d,c);t((o=o.apply(r,i)).next())});import{B as h}from"./index.1c9272fa.js";import{j as y,aN as p,C as T,a8 as _,m as v,bH as k,s as w,Q as B,w as E,v as M,x as g,K as l,G as x}from"./index.d13d32e3.js";import{_ as C,U as u}from"./JUpload.vue_vue_type_style_index_0_lang.e5aaf763.js";const U=y({__name:"JUploadModal",props:{value:p.oneOfType([p.string,p.array]),width:p.number.def(520)},emits:["change","update:value","register"],setup(r,{emit:i}){const o=T(),s=_({props:{}}),n=v(()=>{var e;return((e=s.props)==null?void 0:e.fileType)===u.image?"\u56FE\u7247\u4E0A\u4F20":"\u6587\u4EF6\u4E0A\u4F20"}),[d,{closeModal:c}]=k(e=>m(this,null,function*(){var f;s.props=l(e)||{},[u.image,"img","picture"].includes((f=s.props)==null?void 0:f.fileType)?s.props.fileType=u.image:s.props.fileType=u.file,x(()=>o.value.addActionsListener())}));function t(){c()}function a(e){i("change",e),i("update:value",e)}return(e,f)=>(w(),B(l(h),g({onRegister:l(d),title:l(n),width:r.width,onOk:t},e.$attrs),{default:E(()=>[M(C,g({ref_key:"uploadRef",ref:o,value:r.value},s.props,{onChange:a}),null,16,["value"])]),_:1},16,["onRegister","title","width"]))}});export{U as _};
