var z=(F,R,m)=>new Promise((P,g)=>{var M=a=>{try{c(m.next(a))}catch(h){g(h)}},E=a=>{try{c(m.throw(a))}catch(h){g(h)}},c=a=>a.done?P(a.value):Promise.resolve(a.value).then(M,E);c((m=m.apply(F,R)).next())});import{onMountedOrActivated as G}from"./onMountedOrActivated.a5139741.js";import{useWindowSizeFn as I}from"./useWindowSizeFn.67dc54bf.js";import{u as K}from"./useContentViewHeight.c21fb651.js";import{C as A,G as N,E as V,K as r,b3 as W,c8 as X,aP as Z,L as _}from"./index.d13d32e3.js";import"./usePageContext.a7636151.js";function L(F,R,m,P,g=0,M=A(0)){const E=A(null),{footerHeightRef:c}=K();let a={useLayoutFooter:!0};const h=e=>{a=e};function D(){N(()=>{B()})}function p(e,x="all"){var s,l,H,b;function u(t){return Number(t.replace(/[^\d]/g,""))}let i=0;const f="0px";if(e){const t=getComputedStyle(e),n=u((s=t==null?void 0:t.marginTop)!=null?s:f),o=u((l=t==null?void 0:t.marginBottom)!=null?l:f),d=u((H=t==null?void 0:t.paddingTop)!=null?H:f),k=u((b=t==null?void 0:t.paddingBottom)!=null?b:f);x==="all"?(i+=n,i+=o,i+=d,i+=k):x==="top"?(i+=n,i+=d):(i+=o,i+=k)}return i}function T(e){return e==null?null:e instanceof HTMLDivElement?e:e.$el}function B(){return z(this,null,function*(){var b;if(!F.value)return;yield N();const e=T(r(R));if(!e)return;const{bottomIncludeBody:x}=W(e);let u=0;m.forEach(t=>{var n,o;u+=(o=(n=T(r(t)))==null?void 0:n.offsetHeight)!=null?o:0});let i=(b=p(e))!=null?b:0;P.forEach(t=>{i+=p(T(r(t)))});let f=0;function s(t,n){if(t&&n){const o=t.parentElement;o&&(Z(n)?o.classList.contains(n)?f+=p(o,"bottom"):(f+=p(o,"bottom"),s(o,n)):_(n)&&n>0&&(f+=p(o,"bottom"),s(o,--n)))}}X(g)?s(e,r(g)):s(e,g);let l=x-r(c)-r(M)-u-i-f;const H=()=>{var t;(t=a.elements)==null||t.forEach(n=>{var o,d;l+=(d=(o=T(r(n)))==null?void 0:o.offsetHeight)!=null?d:0})};a.useLayoutFooter&&r(c)>0,H(),E.value=l})}return G(()=>{N(()=>{B()})}),I(()=>{B()},50,{immediate:!0}),V(()=>[c.value],()=>{B()},{flush:"post",immediate:!0}),{redoHeight:D,setCompensation:h,contentHeight:E}}export{L as useContentHeight};
