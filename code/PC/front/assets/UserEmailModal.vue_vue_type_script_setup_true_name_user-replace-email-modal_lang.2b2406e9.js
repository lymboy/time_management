var A=Object.defineProperty,R=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var v=(s,a,e)=>a in s?A(s,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[a]=e,p=(s,a)=>{for(var e in a||(a={}))V.call(a,e)&&v(s,e,a[e]);if(E)for(var e of E(a))j.call(a,e)&&v(s,e,a[e]);return s},F=(s,a)=>R(s,x(a));var _=(s,a,e)=>new Promise((o,r)=>{var f=t=>{try{l(e.next(t))}catch(n){r(n)}},m=t=>{try{l(e.throw(t))}catch(n){r(n)}},l=t=>t.done?o(t.value):Promise.resolve(t.value).then(f,m);l((e=e.apply(s,a)).next())});import{B as z}from"./BasicModal.d291574e.js";import{j as C,cM as N,a8 as O,C as y,a7 as P,bH as S,r as d,s as U,Q as q,w as i,v as c,y as D,x as H,K as I,u as K}from"./index.d13d32e3.js";import"./index.1c9272fa.js";import{rules as L}from"./validator.4907239b.js";import{a as Q}from"./UserSetting.api.47c39ec8.js";const T=C({name:"user-replace-email-modal"}),Z=C(F(p({},T),{emits:["register","success"],setup(s,{emit:a}){N();const{createMessage:e}=K(),o=O({email:""}),r=y(),f={email:[p({},L.duplicateCheckRule("sys_user","email",o,{label:"\u90AE\u7BB1"})[0]),{required:!0,type:"email",message:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E"}]};P.useForm;const m=y(""),[l,{setModalProps:t,closeModal:n}]=S(u=>_(this,null,function*(){r.value.resetFields(),r.value.clearValidate(),t({confirmLoading:!1}),m.value="\u4FEE\u6539\u90AE\u7BB1",u.record.smscode="",Object.assign(o,u.record)}));function M(){return _(this,null,function*(){yield r.value.validateFields(),Q(o).then(u=>{u.success?(e.success("\u4FEE\u6539\u90AE\u7BB1\u6210\u529F"),a("success"),n()):e.warning(u.message)})})}return(u,B)=>{const k=d("a-input"),g=d("a-form-item"),w=d("a-button"),b=d("a-form");return U(),q(z,H(u.$attrs,{onRegister:I(l),width:"500px",title:m.value,showCancelBtn:!1,showOkBtn:!1}),{default:i(()=>[c(b,{class:"antd-modal-form",ref_key:"formRef",ref:r,model:o,rules:f},{default:i(()=>[c(g,{name:"email"},{default:i(()=>[c(k,{size:"large",value:o.email,"onUpdate:value":B[0]||(B[0]=h=>o.email=h),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1"},null,8,["value"])]),_:1}),c(g,null,{default:i(()=>[c(w,{size:"large",type:"primary",block:"",onClick:M},{default:i(()=>[D(" \u786E\u8BA4 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},16,["onRegister","title"])}}}));export{Z as _};
