var R=(o,l,r)=>new Promise((i,s)=>{var g=n=>{try{c(r.next(n))}catch(e){s(e)}},t=n=>{try{c(r.throw(n))}catch(e){s(e)}},c=n=>n.done?i(n.value):Promise.resolve(n.value).then(g,t);c((r=r.apply(o,l)).next())});import{C as b,ag as S,K as d,bV as m,bW as f,E as D,ac as u,bX as T}from"./index.d13d32e3.js";function y(o){const l=b(null),r=b(!1),i=b(null);let s;function g(e,a){S(()=>{l.value=null,r.value=null}),!(d(r)&&m()&&e===d(l))&&(l.value=e,i.value=a,o&&e.setProps(f(o)),r.value=!0,s==null||s(),s=D(()=>o,()=>{o&&e.setProps(f(o))},{immediate:!0,deep:!0}))}function t(){const e=d(l);return e||T("The table instance has not been obtained yet, please make sure the table is presented when performing the table operation!"),e}function c(){return l}return[g,{reload:e=>R(this,null,function*(){return yield t().reload(e)}),setProps:e=>{t().setProps(e)},redoHeight:()=>{t().redoHeight()},setLoading:e=>{t().setLoading(e)},getDataSource:()=>t().getDataSource(),getRawDataSource:()=>t().getRawDataSource(),getColumns:({ignoreIndex:e=!1}={})=>{const a=t().getColumns({ignoreIndex:e})||[];return u(a)},setColumns:e=>{t().setColumns(e)},setTableData:e=>t().setTableData(e),setPagination:e=>t().setPagination(e),deleteSelectRowByKey:e=>{t().deleteSelectRowByKey(e)},getSelectRowKeys:()=>u(t().getSelectRowKeys()),getSelectRows:()=>u(t().getSelectRows()),clearSelectedRowKeys:()=>{t().clearSelectedRowKeys()},setSelectedRowKeys:e=>{t().setSelectedRowKeys(e)},getPaginationRef:()=>t().getPaginationRef(),getSize:()=>u(t().getSize()),updateTableData:(e,a,w)=>t().updateTableData(e,a,w),deleteTableDataRecord:e=>t().deleteTableDataRecord(e),insertTableDataRecord:(e,a)=>t().insertTableDataRecord(e,a),updateTableDataRecord:(e,a)=>t().updateTableDataRecord(e,a),findTableDataRecord:e=>t().findTableDataRecord(e),getRowSelection:()=>u(t().getRowSelection()),getCacheColumns:()=>u(t().getCacheColumns()),getForm:()=>d(i),setShowPagination:e=>R(this,null,function*(){t().setShowPagination(e)}),getShowPagination:()=>u(t().getShowPagination()),expandAll:()=>{t().expandAll()},collapseAll:()=>{t().collapseAll()},getTableRef:()=>c()}]}export{y as u};
