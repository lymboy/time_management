var r=(d,p,a)=>new Promise((f,i)=>{var c=e=>{try{o(a.next(e))}catch(s){i(s)}},u=e=>{try{o(a.throw(e))}catch(s){i(s)}},o=e=>e.done?f(e.value):Promise.resolve(e.value).then(c,u);o((a=a.apply(d,p)).next())});import{B as S}from"./index.1c9272fa.js";import{u as k,c as M}from"./tenant.data.6c020eb1.js";import{i as R,l as g}from"./tenant.api.27aec417.js";import{useListPage as F}from"./useListPage.6b1e9ff2.js";import L from"./BasicTable.7f769694.js";import{T as P}from"./componentMap.6f8f51f6.js";import"./BasicTable.vue_vue_type_style_index_0_lang.734e51fc.js";import"./TableImg.vue_vue_type_style_index_0_lang.c653d5f6.js";import{j,C as N,K as n,bH as O,r as V,s as b,Q as C,w as l,v as _,y as A,R as K,x as U}from"./index.d13d32e3.js";const Z=j({__name:"TenantUserModal",emits:["register","success"],setup(d,{emit:p}){const a=N(0),{prefixCls:f,tableContext:i}=F({designScope:"tenant-template",tableProps:{api:R,columns:k,immediate:!1,formConfig:{schemas:M,labelCol:{span:8},actionColOptions:{xs:24,sm:8,md:8,lg:8,xl:8,xxl:8}},beforeFetch:t=>Object.assign(t,{userTenantId:n(a)})}}),[c,{reload:u},{rowSelection:o,selectedRowKeys:e}]=i,[s,{setModalProps:H,closeModal:h}]=O(t=>r(this,null,function*(){a.value=t.id,m()})),x="\u6210\u5458";function B(t){return r(this,null,function*(){h()})}function y(t){return[{label:"\u8BF7\u79BB",onClick:T.bind(null,t.id)}]}function m(){(e.value=[])&&u()}function T(t){return r(this,null,function*(){yield g({userIds:t,tenantId:n(a)},m)})}function v(){return r(this,null,function*(){yield g({userIds:e.value.join(","),tenantId:n(a)},m)})}return(t,Q)=>{const w=V("a-button");return b(),C(n(S),U(t.$attrs,{onRegister:n(s),title:x,onOk:B,width:"800px"}),{default:l(()=>[_(n(L),{onRegister:n(c),rowSelection:n(o)},{tableTitle:l(()=>[n(e).length>0?(b(),C(w,{key:0,preIcon:"ant-design:delete-outlined",type:"primary",onClick:v,style:{"margin-right":"5px"}},{default:l(()=>[A("\u6279\u91CF\u8BF7\u79BB")]),_:1})):K("",!0)]),action:l(({record:I})=>[_(n(P),{actions:y(I)},null,8,["actions"])]),_:1},8,["onRegister","rowSelection"])]),_:1},16,["onRegister"])}}});export{Z as _};
