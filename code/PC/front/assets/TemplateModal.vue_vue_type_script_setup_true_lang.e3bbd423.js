var d=Object.defineProperty;var w=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var h=(r,o,e)=>o in r?d(r,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[o]=e,g=(r,o)=>{for(var e in o||(o={}))M.call(o,e)&&h(r,e,o[e]);if(w)for(var e of w(o))k.call(o,e)&&h(r,e,o[e]);return r};var f=(r,o,e)=>new Promise((a,c)=>{var m=t=>{try{n(e.next(t))}catch(l){c(l)}},p=t=>{try{n(e.throw(t))}catch(l){c(l)}},n=t=>t.done?a(t.value):Promise.resolve(t.value).then(m,p);n((e=e.apply(r,o)).next())});import{B as y}from"./BasicForm.e6ef05c4.js";import"./componentMap.6f8f51f6.js";import{u as C}from"./useForm.1a92e1aa.js";import"./JAddInput.ec01e271.js";import{j as R,C as B,bH as b,K as i,s as x,Q as L,w as O,v as P,x as S}from"./index.d13d32e3.js";import{B as U}from"./index.1c9272fa.js";import{f as V,s as j}from"./template.api.1d0639ac.js";const q=R({__name:"TemplateModal",emits:["success","register"],setup(r,{emit:o}){const e=B(""),a=B(!1),[c,{resetFields:m,setFieldsValue:p,validate:n,updateSchema:t,setProps:l}]=C({schemas:V,showActionButtonGroup:!1}),[_,{setModalProps:u,closeModal:F}]=b(s=>f(this,null,function*(){u({confirmLoading:!1,showCancelBtn:!!(s!=null&&s.showFooter),showOkBtn:!!(s!=null&&s.showFooter)}),a.value=i(s.isUpdate),e.value=i(s.title),yield m(),yield p(g({},s.record)),l({disabled:!(s!=null&&s.showFooter)})}));function v(){return f(this,null,function*(){try{const s=yield n();u({confirmLoading:!0}),yield j(s,a),F(),o("success")}finally{u({confirmLoading:!1})}})}return(s,A)=>(x(),L(i(U),S({onRegister:i(_),title:e.value,width:800},s.$attrs,{onOk:v}),{default:O(()=>[P(i(y),{onRegister:i(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{q as _};
