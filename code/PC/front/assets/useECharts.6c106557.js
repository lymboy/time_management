var M=Object.defineProperty;var k=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var E=(s,t,n)=>t in s?M(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n,z=(s,t)=>{for(var n in t||(t={}))b.call(t,n)&&E(s,n,t[n]);if(k)for(var n of k(t))x.call(t,n)&&E(s,n,t[n]);return s};import{ap as y,m as D,C as H,E as R,ak as S,K as i,a$ as v,G as T,am as h,cE as B,al as G}from"./index.d13d32e3.js";import{e as O}from"./echarts.59b1d458.js";function $(s,t="default"){const{getDarkMode:n}=y(),u=D(()=>t==="default"?n.value:t);let e=null,l=p;const a=H({});let m=()=>{};l=G(p,200);const g=D(()=>u.value!=="dark"?a.value:z({backgroundColor:"transparent"},a.value));function c(o=t){const r=i(s);if(!r||!i(r))return;e=O.init(r,o);const{removeEvent:f}=h({el:window,name:"resize",listener:l});m=f;const{widthRef:C,screenEnum:F}=B();(i(C)<=F.MD||r.offsetHeight===0)&&v(()=>{l()},30)}function d(o,r=!0){var f;if(a.value=o,((f=i(s))==null?void 0:f.offsetHeight)===0){v(()=>{d(i(g))},30);return}T(()=>{v(()=>{!e&&(c(u.value),!e)||(r&&(e==null||e.clear()),e==null||e.setOption(i(g)))},30)})}function p(){e==null||e.resize()}R(()=>u.value,o=>{e&&(e.dispose(),c(o),d(a.value))}),S(()=>{!e||(m(),e.dispose(),e=null)});function w(){return e||c(u.value),e}return{setOptions:d,resize:p,echarts:O,getInstance:w}}export{$ as useECharts};
