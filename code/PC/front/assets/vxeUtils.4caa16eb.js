var p=(e,u,t)=>new Promise((r,o)=>{var n=a=>{try{l(t.next(a))}catch(i){o(i)}},s=a=>{try{l(t.throw(a))}catch(i){o(i)}},l=a=>a.done?r(a.value):Promise.resolve(a.value).then(n,s);l((t=t.apply(e,u)).next())});import{$ as c}from"./index.d13d32e3.js";const F=Symbol();function d(e,u,t,r,o){return p(this,null,function*(){if(!(e&&typeof e=="function"))throw`validate \u53C2\u6570\u9700\u8981\u7684\u662F\u4E00\u4E2A\u65B9\u6CD5\uFF0C\u800C\u4F20\u5165\u7684\u5374\u662F${typeof e}`;let n={},s=yield new Promise((a,i)=>{e().then(()=>{for(let f in u)u[f]instanceof Array&&c(r,f)==="string"&&(u[f]=u[f].join(","));a(u)}).catch(()=>{i({error:F})})});Object.assign(n,{formValue:s});let l=yield v(t,o);return n=Object.assign(n,{tablesValue:l}),n})}function v(e,u=!0){if(!(e instanceof Array))throw`'validateTables'\u51FD\u6570\u7684'cases'\u53C2\u6570\u9700\u8981\u7684\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0C\u800C\u4F20\u5165\u7684\u5374\u662F${typeof e}`;return new Promise((t,r)=>{let o=[],n=0;(!e||e.length===0)&&t(o),function s(){let l=e[n];l.value.validateTable().then(a=>{if(!a)o[n]={tableData:l.value.getTableData()},++n===e.length?t(o):s();else{let i,f=y(l.value,"ATabPane");if(f&&(i=f.$.vnode.key,u)){let b=y(f,"Tabs");b&&b.setActiveKey&&b.setActiveKey(i)}r({error:F,index:n,paneKey:i,errMap:a})}})}()})}function y(e,u){let t=e.$parent;if(t&&t.$options){if(t.$options.name===u)return t;{let r=y(t,u);if(r)return r}}return null}export{F as VALIDATE_FAILED,y as getVmParentByName,d as validateFormModelAndTables,v as validateTables};
