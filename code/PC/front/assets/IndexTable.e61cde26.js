import{j as f,C as b,e8 as o,f5 as F,r as g,s as h,Q as y,x as B}from"./index.d13d32e3.js";import{u as D}from"./useTableSync.30c3c307.js";import"./pick.2cb7a7a2.js";import"./_flatRest.298c1393.js";import"./isArray.bed9f286.js";import"./toString.f51d8d11.js";import"./_arrayPush.f667b98f.js";import"./cgform.data.ea831fae.js";const $=f({name:"IndexTable",components:{},props:{actionButton:{type:Boolean,default:!0,required:!1}},setup(){const e=b([{title:"\u7D22\u5F15\u540D\u79F0",key:"indexName",width:330,type:o.input,defaultValue:"",placeholder:"\u8BF7\u8F93\u5165${title}",validateRules:[{required:!0,message:"${title}\u4E0D\u80FD\u4E3A\u7A7A"}]},{title:"\u7D22\u5F15\u680F\u4F4D",key:"indexField",width:330,type:o.selectMultiple,options:[],defaultValue:"",placeholder:"\u8BF7\u9009\u62E9${title}",validateRules:[{required:!0,message:"\u8BF7\u9009\u62E9${title}"}]},{title:"\u7D22\u5F15\u7C7B\u578B",key:"indexType",width:330,type:o.select,options:[{title:"normal",value:"normal"},{title:"unique",value:"unique"}],defaultValue:"normal",placeholder:"\u8BF7\u9009\u62E9${title}",validateRules:[{required:!0,message:"\u8BF7\u9009\u62E9${title}"}]}]),u=D(e),{tableRef:l,loading:r,dataSource:i,tableHeight:n,tableProps:t,setDataSource:d,validateData:p}=u;function m(c){let s=[];c.value.tableRef.getTableData().forEach(a=>{a.dbFieldName&&s.push({title:a.dbFieldName,value:a.dbFieldName})}),e.value[1].options=s}return{tableRef:l,loading:r,dataSource:i,columns:e,tableHeight:n,tableProps:t,syncTable:m,setDataSource:d,validateData:p}}});function v(e,u,l,r,i,n){const t=g("JVxeTable");return h(),y(t,B({ref:"tableRef",rowNumber:"",rowSelection:"",dragSort:"",keyboardEdit:"",sortKey:"orderNum",maxHeight:e.tableHeight.normal,loading:e.loading,columns:e.columns,dataSource:e.dataSource,toolbar:e.actionButton},e.tableProps),null,16,["maxHeight","loading","columns","dataSource","toolbar"])}var w=F($,[["render",v]]);export{w as default};
