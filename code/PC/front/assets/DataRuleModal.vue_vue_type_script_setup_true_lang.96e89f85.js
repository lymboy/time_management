var h=Object.defineProperty;var d=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var f=(o,s,e)=>s in o?h(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,g=(o,s)=>{for(var e in s||(s={}))R.call(s,e)&&f(o,e,s[e]);if(d)for(var e of d(s))_.call(s,e)&&f(o,e,s[e]);return o};var p=(o,s,e)=>new Promise((n,c)=>{var m=t=>{try{u(e.next(t))}catch(a){c(a)}},l=t=>{try{u(e.throw(t))}catch(a){c(a)}},u=t=>t.done?n(t.value):Promise.resolve(t.value).then(m,l);u((e=e.apply(o,s)).next())});import{B as v}from"./index.1c9272fa.js";import{B as M}from"./BasicForm.e6ef05c4.js";import"./componentMap.6f8f51f6.js";import{u as C}from"./useForm.1a92e1aa.js";import"./JAddInput.ec01e271.js";import{j as x,C as y,bH as I,K as i,m as k,s as L,Q as S,w as U,v as b,x as O}from"./index.d13d32e3.js";import{e as P,s as V}from"./menu.data.3e005f28.js";const T=x({__name:"DataRuleModal",props:{permissionId:String},emits:["success","register"],setup(o,{emit:s}){const e=o,n=y(!0),[c,{resetFields:m,setFieldsValue:l,validate:u}]=C({schemas:P,showActionButtonGroup:!1}),[t,{setModalProps:a,closeModal:w}]=I(r=>p(this,null,function*(){yield m(),a({confirmLoading:!1}),n.value=!!(r!=null&&r.isUpdate),i(n)&&(yield l(g({},r.record)))})),B=k(()=>i(n)?"\u7F16\u8F91\u89C4\u5219":"\u65B0\u589E\u89C4\u5219");function F(){return p(this,null,function*(){try{const r=yield u();r.permissionId=e.permissionId,a({confirmLoading:!0}),yield V(r,n.value),w(),s("success")}finally{a({confirmLoading:!1})}})}return(r,j)=>(L(),S(i(v),O(r.$attrs,{onRegister:i(t),title:i(B),onOk:F,width:"700px"}),{default:U(()=>[b(i(M),{onRegister:i(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{T as _};
