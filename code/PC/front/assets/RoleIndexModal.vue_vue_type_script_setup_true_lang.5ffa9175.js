var v=Object.defineProperty;var g=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var w=(a,o,e)=>o in a?v(a,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[o]=e,_=(a,o)=>{for(var e in o||(o={}))B.call(o,e)&&w(a,e,o[e]);if(g)for(var e of g(o))C.call(o,e)&&w(a,e,o[e]);return a};var f=(a,o,e)=>new Promise((u,d)=>{var m=s=>{try{t(e.next(s))}catch(i){d(i)}},c=s=>{try{t(e.throw(s))}catch(i){d(i)}},t=s=>s.done?u(s.value):Promise.resolve(s.value).then(m,c);t((e=e.apply(a,o)).next())});import{B as x}from"./index.1c9272fa.js";import{B as F}from"./BasicForm.e6ef05c4.js";import"./componentMap.6f8f51f6.js";import{u as y}from"./useForm.1a92e1aa.js";import"./JAddInput.ec01e271.js";import{j as M,C as R,bH as I,K as n,s as k,Q as b,w as L,v as U,x as j}from"./index.d13d32e3.js";import{r as O}from"./role.data.938dcd47.js";import{j as P,k as S}from"./role.api.2e681792.js";const Q=M({__name:"RoleIndexModal",emits:["register","success"],setup(a,{emit:o}){const e=R(!0),[u,{resetFields:d,setFieldsValue:m,validate:c}]=y({labelWidth:150,schemas:O,showActionButtonGroup:!1}),[t,{setModalProps:s,closeModal:i}]=I(l=>f(this,null,function*(){var p;yield d(),s({confirmLoading:!1}),m({roleCode:l.roleCode});let r=yield P({roleCode:l.roleCode});e.value=!!((p=r.result)!=null&&p.id),n(e)&&(yield m(_({},r.result)))}));function h(l){return f(this,null,function*(){try{let r=yield c();s({confirmLoading:!0}),yield S(r,e.value),i(),o("success",{isUpdate:e.value,values:r})}finally{s({confirmLoading:!1})}})}return(l,r)=>(k(),b(n(x),j(l.$attrs,{onRegister:n(t),title:"\u9996\u9875\u914D\u7F6E",onOk:h,width:"40%"}),{default:L(()=>[U(n(F),{onRegister:n(u)},null,8,["onRegister"])]),_:1},16,["onRegister"]))}});export{Q as _};
